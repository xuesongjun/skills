---
name: sync-context
description: |
  读档 - 快速恢复上次开发上下文
---

# 读档 / 同步进度

当用户说出以下关键词时自动触发此技能：
- "同步进度"
- "读档"
- "继续工作"

## 执行步骤（必须严格按顺序执行）

### 第一步：读取 CLAUDE.md

读取项目根目录的 `CLAUDE.md`，获取完整项目信息。

### 第二步：总结技术栈和代码风格

从 CLAUDE.md 中提取并简要输出：
- 项目定位（一句话）
- 核心技术栈（框架、关键库）
- 代码风格要点（命名、注释语言、UI 模式、线程模型）

格式示例：
```
## 项目概况
- **定位**：BLE 射频芯片测试工具（NiceGUI Web 应用）
- **技术栈**：Python 3.9+ / NiceGUI + ex4nicegui / PyVISA / PySerial / Plotly / SQLite
- **风格要点**：中文注释和日志 / snake_case 命名 / UI 与逻辑分离 / 耗时操作走子线程 + Queue 回调
```

### 第三步：指出断点和待办

从 CLAUDE.md 的 `## 开发进度` 章节中，找到最近一次进度记录，提取：
- **断点 / 待续**：上次未完成的工作
- **已知问题**：尚未修复的问题

如果没有进度记录，则输出"暂无历史断点记录"。

格式示例：
```
## 上次断点
- [ ] 日志在页面切换后不实时刷新（与 NiceGUI 客户端生命周期有关）
- [ ] config_manager.py 硬编码路径与实际不匹配
```

### 第四步：检查最新代码变动

运行以下命令检查是否有未记录的变动：
1. `git status` - 查看是否有未提交的修改
2. `git log --oneline -5` - 查看最近 5 条提交
3. 将最近提交与 CLAUDE.md 中记录的进度对比，找出未记录的变动

格式示例：
```
## 代码库最新状态
- 分支：master
- 最近提交：`07e1f7a 添加skill文件`
- 未提交变更：2 个文件修改
- 未记录的提交：`07e1f7a 添加skill文件`（CLAUDE.md 中未记录）
```

### 第五步：询问用户

输出以上所有信息后，向用户提问：

> 以上是当前项目状态。请问要从哪里开始？
> 1. 继续处理上次的断点任务
> 2. 开始新的任务（请描述）
> 3. 先查看某个具体模块的代码

## 注意事项

- 五个步骤必须全部执行，不能跳过
- 输出要简洁，每个步骤的输出控制在 5 行以内
- 不要修改任何文件，此技能是只读操作
- 如果 CLAUDE.md 不存在，提示用户先运行"存盘"技能创建
